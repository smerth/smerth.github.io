
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notebooks - Webpack - Webpack Loaders</title>
    <link rel="stylesheet" href="../../../../assets/css/app.css">
    <link href='//cdn.jsdelivr.net/devicons/1.8.0/css/devicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/master/devicon.min.css">
  </head>
  <body>

<div class="row navigation-row">
    <div class="columns small-12">

        <div class="mobile-branding show-for-small-only">
          <a href="../../../../index.html"><div class="menu-text mobile-branding">Smerth</div></a>
        </div>
        <div class="title-bar" data-responsive-toggle="main-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle></button>
          <div class="title-bar-title">Menu</div>
        </div>
        <nav id="main-menu" class="top-bar">

            <div class="top-bar-left">
                <!-- Navigation on medium and up screens -->
                <ul class="vertical menu medium-horizontal show-for-medium" data-responsive-menu="dropdown">
<li class="menu-text"><a class="sitename" href="../../../../index.html">Smerth</a></li>
<li><a href="../../../../projects.html">Projects</a></li>
<li><a href="../../../../cases.html">Case Studies</a></li>
<li>
    <a href="../../../../books.html">Notebooks</a>
        <ul class="menu vertical" style="width: 300px;">
            <li><a href="../../../../content/books/javascript-working-with-the-dom/book/index.html">Javascript: working with the dom</a></li>
            <li><a href="../../../../content/books/unix-for-macos/book/index.html">Unix for MacOS</a></li>
            <li><a href="../../../../content/books/applescript/book/index.html">Applescript</a></li>
            <li><a href="../../../../content/books/webpack/book/index.html">Webpack</a></li>
            
        </ul>
<!--           <ul class="menu vertical" style="width: 300px;">
            <li><a href="content/books/applescript/book/index.html">Applescript</a></li>
            <li><a href="content/books/Git-Essential-Training/book/index.html">Git Essential Training</a></li>
            <li><a href="content/books/GIT-Workflow/book/index.html">GIT Workflow</a></li>
            <li><a href="content/books/introduction-to-mysql/book/index.html">Introduction to MySQL</a></li>
            <li><a href="content/books/MacOS-Sierra-Localhost/book/index.html">Setting up a Development Environment on MacOS Sierra</a></li>
            <li><a href="content/books/unix-for-macos/book/index.html">UNIX for MacOS</a></li>
            <li><a href="content/books/webpack/book/index.html">Webpack</a></li>
        </ul> -->
<!--     <ul class="menu vertical" style="width: 100%;">
        <li><a href="/content/books/applescript-notes/book"><span class="fi-book-bookmark"></span> AppleScript Notes</a></li>
        <li><a href="/content/books/build-a-polling-app-with-socket-io-and-react/book"><span class="fi-book-bookmark"></span> Polling App with Socket.io and React.js</a></li>
        <li><a href="/content/books/introduction-to-mysql/book"><span class="fi-book-bookmark"></span> Introduction to MySQL</a></li>
        <li><a href="/content/books/unix-for-macos/book"><span class="fi-book-bookmark"></span> UNIX for MacOS</a></li>
        <li><a href="/content/books/javascript-working-with-the-dom/book"><span class="fi-book-bookmark"></span> Javascript working with the DOM</a></li>
    </ul> -->
</li>
<!-- <li><a href="../../../../about.html">About</a></li> -->
<li><a href="../../../../content/books/about/book/chapter-1.html">About</a></li>
                </ul>
                <!-- Navigation on small screens -->
                <ul class="vertical menu medium-horizontal show-for-small-only" data-responsive-menu="dropdown" data-accordion-menu>
<li class="menu-text"><a href="../../../../index.html">Notebook</a></li>
<li><a href="../../../../projects.html">Projects</a></li>
<li><a href="../../../../cases.html">Case Studies</a></li>
<li>
    <a href="../../../../books.html">Notebooks</a>
        <ul class="menu vertical" style="width: 100%;">
            <li><a href="../../../../content/books/javascript-working-with-the-dom/book/index.html">Javascript: working with the dom</a></li>
            <li><a href="../../../../content/books/unix-for-macos/book/index.html">Unix for MacOS</a></li>
            <li><a href="../../../../content/books/applescript/book/index.html">Applescript</a></li>
            <li><a href="../../../../content/books/webpack/book/index.html">Webpack</a></li>
            
        </ul>
<!--     <ul class="menu vertical" style="width: 100%;">
        <li><a href="/content/books/applescript-notes/book"><span class="fi-book-bookmark"></span> AppleScript Notes</a></li>
        <li><a href="/content/books/build-a-polling-app-with-socket-io-and-react/book"><span class="fi-book-bookmark"></span> Polling App with Socket.io and React.js</a></li>
        <li><a href="/content/books/introduction-to-mysql/book"><span class="fi-book-bookmark"></span> Introduction to MySQL</a></li>
        <li><a href="/content/books/unix-for-macos/book"><span class="fi-book-bookmark"></span> UNIX for MacOS</a></li>
        <li><a href="/content/books/javascript-working-with-the-dom/book"><span class="fi-book-bookmark"></span> Javascript working with the DOM</a></li>
    </ul> -->
</li>
<!-- <li><a href="../../../../about.html">About</a></li> -->
<li><a href="../../../../content/books/about/book/chapter-1.html">About</a></li>
                </ul>
            </div>
        </nav>
    </div>
</div>
<div class="row pageheader-row">
    <div class="small-12 column index text-center">
        <div class="callout small pageheader">
            <h1 id="webpack-loaders" class="book-title title-text">
                <a href="./index.html" class="">Webpack</a>
            </h1>
            <h6>Smerth</h6>
        </div>
    </div>
</div>


<div class="row " data-sticky-container>
    <div class="column small-12 chapter-navigation-bar sticky" data-sticky data-anchor="main" data-options="marginTop:0;" style="width: 100%;">



<div class="row chapter-navigation-row">
    <div class="column small-6 small-order-2 medium-order-1 medium-3 prev-container">
                    <h6><a class="prev" href="./chapter-1.html">&larr; Previous<div><small>Chapter 1 - Webpack</small></div></a></h6>
            </div>

    <div class="column small-12 small-order-1 medium-order-2 medium-6 text-center title-container">
        <h6 id="webpack-loaders" class="bk-title"><span class="fi-book-bookmark"></span> <a href="./index.html">Webpack</a></h6>
        <h6 id="webpack-loaders" class="ch-title align-self-middle"><small>Chapter 2 - Webpack Loaders</small></h6>
    </div>

    <div class="column small-6 small-order-3 medium-order-3 medium-3 next-container">
                    <h6><a class="next" href="./chapter-3.html"><div class="text-right">Next &rarr;</div><div class="text-right"><small>Chapter 3 - Webpack &amp; CSS</small></div></a></h6>
            </div>

</div>
</div>
    </div> 
    <div id="book-page" class="row">
        
        
        <div id="sidebar" class="column small-12 medium-4  large-3" data-sticky-container>
            <nav id="sidebar-toc" class=" sticky" data-sticky data-anchor="main" data-options="marginTop:5;">

                
                                <h3>
                    <a href=".">Table of contents</a>
                </h3>
                <ul class="toc">
                                                                                <li class="level-1">
                        <span class="chapter-label">1.</span> <a href="./chapter-1.html"> Webpack</a>
                    </li>
                                                                                                                <li class="level-1 active">
                                <a class="chapter" href="./chapter-2.html">
                                    <span class="chapter-label">Chapter 2.</span>
                                    Webpack Loaders
                                </a>
                                <ul id="page-toc" class="unstyled toc-l2">
                                                                                                                                        </ul>
                    </li>
                                                                                            <li class="level-1">
                        <span class="chapter-label">3.</span> <a href="./chapter-3.html"> Webpack &amp; CSS</a>
                    </li>
                                                                                            <li class="level-1">
                        <span class="chapter-label">4.</span> <a href="./chapter-4.html"> Code Splitting with webpack</a>
                    </li>
                                                                                            <li class="level-1">
                        <span class="chapter-label">5.</span> <a href="./chapter-5.html"> Webpack dev server</a>
                    </li>
                                            </ul>
        </nav>
    </div>

        <div id="main" class="main column small-12 medium-8 large-9 ">
        <div class="main-content">
                                                    <h2 id="what-is-a-loader">2.1 What is a loader?</h2>

<p>Webpack Loaders help us load and preform transformations on files. They can help with the loading of files and images.</p>

<p>Webpack Loaders are commonly used when working with different dialects of JavaScript. For example, many React applications use JSX, or "JavaScript as XML" to create user interface components. JSX doesn't run natively in the browser. It must first be transpiled into plain JavaScript in order for it to run.</p>

<p>You also might be using ES6 or ECMAScript 6, the latest version of the JavaScript spec. Not all browsers support all ES6 features, so like JSX, ES6 is often transpiled into plain JavaScript first.</p>

<p>The tool most commonly used for transformation of JSX and ES6 into ES5 JavaScript is Babel. When we use the babel-loader in webpack projects we tell webpack to use Babel to perform these transformations on certain types of files. JSX and ES6 go in, get transpiled, and plain JavaScript comes out.</p>

<p>For a full list of webpack loaders you can check out the official webpack documentation which provides a multitude of options for loading what you need with webpack.</p>

<h4 id="see-webpack-loaders">2.1.0.1 See <a href="http://webpack.github.io/docs/list-of-loaders.html">Webpack Loaders</a></h4>

<h2 id="setting-up-babel-loader-for-a-react-or-es6-project">2.2 Setting up babel-loader for a React or ES6 project</h2>

<p>To setup the babel-loader, first install needed dependencies.</p>

<p>Both we will send the "--save-dev" flag, so they'll be saved into our dev dependencies.</p>

<div class="code bash">
<pre class="bash">npm <span class="kw2">install</span> babel-loader babel-core <span class="re5">--save-dev</span></pre>
</div>

<p>Babel-loader is the loader, and babel-core is the actual babel package that handles our transformations.</p>

<p>Edit webpack.config file.</p>

<p>Add a new key called module. Module is an object that is going to take in, as another key "loaders", "loaders" is an array of objects that describe the different loaders that you want to use.</p>

<p>We want to test for, in other words, we want to look for, any files that have a js extension. Use a regular expression to test for js files.</p>

<p><code>/\.js$/</code></p>

<p>You can exclude, or include, folders and files so that webpack won't run on specific files and folders.</p>

<p>Exclude anything from the <code>node_modules</code> folder.</p>

<p>And if there are any other things that you wanna exclude, you can add them to this node as well.</p>

<p>Next add a loader, in this case the babel-loader.</p>

<div class="code javascript">
<pre class="javascript">    module<span class="sy0">:</span> <span class="br0">&#123;</span>
        loaders<span class="sy0">:</span> <span class="br0">&#91;</span>
            <span class="br0">&#123;</span>
                test<span class="sy0">:</span> <span class="co2">/\.js$/</span><span class="sy0">,</span>
                exclude<span class="sy0">:</span> <span class="co2">/(node_modules)/</span><span class="sy0">,</span>
                loader<span class="sy0">:</span> <span class="st0">'babel'</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#93;</span>
    <span class="br0">&#125;</span></pre>
</div>

<p>Run webpack.  Nothing appears to have happened.</p>

<p>You need to specify what the babel-loader should do.</p>

<p>First give is something to work on:</p>

<p>@ <code>main.js</code></p>

<p>Change the variable on line 1 to be const. That's ES6 syntax.</p>

<div class="code javascript">
<pre class="javascript"><span class="kw1">const</span> $ <span class="sy0">=</span> require<span class="br0">&#40;</span><span class="st0">'jquery'</span><span class="br0">&#41;</span><span class="sy0">;</span>
$<span class="br0">&#40;</span><span class="st0">'#target'</span><span class="br0">&#41;</span>.<span class="me1">html</span><span class="br0">&#40;</span><span class="st0">'Hello Hello World!'</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>Run webpack again. Look inside of our <code>bundle.js</code>, the const keyword is there but it hasn't been transformed into anything.</p>

<p>You need to specify a preset.</p>

<h2 id="using-presets">2.3 Using presets</h2>

<p>In versions of Babel prior to version 6 all of the transformations were automatic meaning that if you had some ES6 code Babel would transpile that. If there was some react with JSX that would be transpiled too. Now in Babel 6 all of these transpiling features are opt-in, so if I want to transpile anything, you need to specify what to transpile, using presets.</p>

<p>Presets are going to be defined in an object with a key of query.</p>

<p>Query is going to be set equal to an object and this will have a key of presets for an array containing ES2015 and react.</p>

<div class="code javascript">
<pre class="javascript">    module<span class="sy0">:</span> <span class="br0">&#123;</span>
        loaders<span class="sy0">:</span> <span class="br0">&#91;</span>
            <span class="br0">&#123;</span>
                test<span class="sy0">:</span> <span class="co2">/\.js$/</span><span class="sy0">,</span>
                exclude<span class="sy0">:</span> <span class="co2">/(node_modules)/</span><span class="sy0">,</span>
                loader<span class="sy0">:</span> <span class="st0">'babel'</span><span class="sy0">,</span>
                query<span class="sy0">:</span> <span class="br0">&#123;</span>
                    presets<span class="sy0">:</span> <span class="br0">&#91;</span><span class="st0">'es2015'</span><span class="sy0">,</span> <span class="st0">'react'</span><span class="br0">&#93;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#93;</span>
    <span class="br0">&#125;</span></pre>
</div>

<p>In addition you need a <code>.babelrc</code> file.</p>

<div class="code bash">
<pre class="bash"><span class="kw2">touch</span> .babelrc</pre>
</div>

<p>So the Babel RC file is just an object that has presets defined for ES2015 and react.</p>

<p>@ <code>.babelrc</code></p>

<div class="code json">
<pre class="json">{
    'presets': [
        'es2015', 'react'
    ]
}</pre>
</div>

<p>Install the required packages</p>

<p>@ <code>terminal</code></p>

<div class="code bash">
<pre class="bash">npm <span class="kw2">install</span> babel-preset-es2015 babel-preset-react <span class="re5">--save-dev</span></pre>
</div>

<p>Run webpack and the const syntax should be transformed to var.</p>

<h2 id="setting-up-coffee-loader-for-coffeescript-projects">2.4 Setting up coffee-loader for CoffeeScript projects</h2>

<p>The same methodology applies to setting up other loaders.</p>

<p>Set up a project using CoffeeScript.</p>

<p>Create <code>main.coffee</code></p>

<div class="code bash">
<pre class="bash"><span class="kw2">mkdir</span> src<span class="sy0">/</span>coffee <span class="sy0">&amp;&amp;</span> <span class="kw2">touch</span> src<span class="sy0">/</span>coffee<span class="sy0">/</span>main.coffee</pre>
</div>

<p><code>main.coffee</code> is going to create a variable for a message that is going to require a different file called <code>message.coffee</code>. And then we console.log message.message.</p>

<div class="code javascript">
<pre class="javascript">message <span class="sy0">=</span> require <span class="st0">'./message.coffee'</span>
&nbsp;
console.<span class="me1">log</span> message.<span class="me1">message</span></pre>
</div>

<p>Create <code>message.coffee</code></p>

<div class="code bash">
<pre class="bash"><span class="kw2">touch</span> src<span class="sy0">/</span>coffee<span class="sy0">/</span>message.coffee</pre>
</div>

<p>@ <code>message.coffee</code></p>

<div class="code javascript">
<pre class="javascript">exports.<span class="me1">message</span> <span class="sy0">=</span> <span class="st0">&quot;Loading Coffee Script!&quot;</span></pre>
</div>

<p>The main file will import the message file.</p>

<p>Install the loader dependancies:</p>

<p>@ <code>terminal</code></p>

<div class="code bash">
<pre class="bash">npm <span class="kw2">install</span> coffee-loader coffee-script <span class="re5">--save-dev</span></pre>
</div>

<p>Edit <code>webpack.config.js</code></p>

<p>Change the entry point to use <code>main.coffee</code>.</p>

<p>We can build it to the same location because CoffeeScript is going to go through the process of transiting to JavaScript.</p>

<p>Get rid of the query for babel, and replace our babel-loader with coffee.</p>

<p>Replace our test with a test for coffee files</p>

<p><code>/\.coffee$/</code> is a regex that matches the CoffeeScript file extension.</p>

<div class="code javascript">
<pre class="javascript">module.<span class="me1">exports</span> <span class="sy0">=</span> <span class="br0">&#123;</span>
    entry<span class="sy0">:</span> <span class="st0">'./main.coffee'</span><span class="sy0">,</span>
    output<span class="sy0">:</span> <span class="br0">&#123;</span>
        path<span class="sy0">:</span> <span class="st0">'build'</span><span class="sy0">,</span>
        filename<span class="sy0">:</span> <span class="st0">'bundle.js'</span>
    <span class="br0">&#125;</span><span class="sy0">,</span>
    module<span class="sy0">:</span> <span class="br0">&#123;</span>
        loaders<span class="sy0">:</span> <span class="br0">&#91;</span>
            <span class="br0">&#123;</span>
                test<span class="sy0">:</span> <span class="co2">/\.coffee$/</span><span class="sy0">,</span>
                exclude<span class="sy0">:</span> <span class="co2">/(node_modules)/</span><span class="sy0">,</span>
                loader<span class="sy0">:</span> <span class="st0">'coffee'</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#93;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre>
</div>

<p>Run wepback, and we should see the bundle being built.</p>

<p>In the browser look in the console for the message that originates in the CoffeeScript file.</p>

                    </div>
    </div>
</div>

<footer class="columns small-12 topspace">
    <div class="row footer-top">
        <div class="medium-6 columns">
<!--             <ul class="menu">
                <li><a href="#">Legal</a></li>
                <li><a href="#">Partner</a></li>
                <li><a href="#">Explore</a></li>
            </ul> -->
        </div>
        <div class="medium-6 columns align-middle text-right">
            
                <div class="copyright">Copyright © 2016 Smedia</div>
            
        </div>
    </div>
    <div class="row footer-middle">
<!--         <div class="small-6 large-3 columns">
            <p class="lead">Offices</p>
            <ul class="menu vertical">
                <li><a href="#">One</a></li>
                <li><a href="#">Two</a></li>
                <li><a href="#">Three</a></li>
                <li><a href="#">Four</a></li>
            </ul>
        </div> -->
<!--         <div class="small-6 large-3 columns">
            <p class="lead">Solar Systems</p>
            <ul class="menu vertical">
                <li><a href="#">One</a></li>
                <li><a href="#">Two</a></li>
                <li><a href="#">Three</a></li>
                <li><a href="#">Four</a></li>
            </ul>
        </div> -->
        <div class="small-6 medium-offset-6 large-3 columns">
            <p class="lead">Contact</p>
            <ul class="menu vertical">
                <li><a href="#"><i class="fi-social-twitter"></i> Twitter</a></li>
                <li><a href="#"><i class="fi-social-facebook"></i> Facebook</a></li>
                <li><a href="#"><i class="fi-social-instagram"></i> Instagram</a></li>
                <li><a href="#"><i class="fi-social-pinterest"></i> Pinterest</a></li>
            </ul>
        </div>
<!--         <div class="small-6 large-3 columns">
            <p class="lead">Widgets</p>
            <ul class="menu vertical">
                <li><a href="#">One</a></li>
                <li><a href="#">Two</a></li>
                <li><a href="#">Three</a></li>
                <li><a href="#">Four</a></li>
            </ul>
        </div> -->
    </div>
    <div class="row footer-bottom">
        <div class="large-12 columns text-center">
            <p>Le Grande Hotel, Latin Quarter, Paris • 261 Rue Saint-Séverin, 75005 Paris, France </p>
            <p>Phone 01 42 517 85 • info@dummy.com • www.dummy.com</p>
        </div>
    </div>
</footer>

    <script src="../../../../assets/js/app.js"></script>
  </body>
</html>