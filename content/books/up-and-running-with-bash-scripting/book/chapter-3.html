
<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notebooks - Up and Running with Bash Scripting - Control Structures</title>
    <link rel="stylesheet" href="../../../../assets/css/app.css">
    <link href='//cdn.jsdelivr.net/devicons/1.8.0/css/devicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/master/devicon.min.css">
</head>

<body>

    <div class="row navigation-row">
        <div class="columns small-12">

            <div class="mobile-branding show-for-small-only">
                <a href="../../../../index.html">
                    <div class="menu-text mobile-branding">Smerth</div>
                </a>
            </div>
            <div class="title-bar" data-responsive-toggle="main-menu" data-hide-for="medium">
                <button class="menu-icon" type="button" data-toggle></button>
                <div class="title-bar-title">Menu</div>
            </div>
            <nav id="main-menu" class="top-bar">

                <div class="top-bar-left">
                    <!-- Navigation on medium and up screens -->
                    <ul class="vertical menu medium-horizontal show-for-medium" data-responsive-menu="dropdown">
                        <li class="menu-text"><a class="sitename" href="../../../../index.html">Smerth</a></li>
                        <li><a href="../../../../projects.html">Projects</a></li>
                        <li><a href="../../../../cases.html">Case Studies</a></li>
                        <li>
                            <a href="../../../../books.html">Notebooks</a>
                            <!--<ul class="menu vertical" style="width: 300px;">
                                <li><a href="../../../../content/books/javascript-working-with-the-dom/book/index.html">Javascript: working with the dom</a></li>
                                <li><a href="../../../../content/books/unix-for-macos/book/index.html">Unix for MacOS</a></li>
                                <li><a href="../../../../content/books/applescript/book/index.html">Applescript</a></li>
                                <li><a href="../../../../content/books/webpack/book/index.html">Webpack</a></li>
                                
                            </ul>-->
                        </li>
                        <li><a href="../../../../screenshots.html">Screenshots</a></li>
                        <li><a href="../../../../content/books/about/book/chapter-1.html">About</a></li>
                    </ul>
                    <!-- Navigation on small screens -->
                    <ul class="vertical menu medium-horizontal show-for-small-only" data-responsive-menu="dropdown" data-accordion-menu>
                        <li class="menu-text"><a href="../../../../index.html">Notebook</a></li>
                        <li><a href="../../../../projects.html">Projects</a></li>
                        <li><a href="../../../../cases.html">Case Studies</a></li>
                        <li>
                            <a href="../../../../books.html">Notebooks</a>
                            <!--<ul class="menu vertical" style="width: 100%;">
                                <li><a href="../../../../content/books/javascript-working-with-the-dom/book/index.html">Javascript: working with the dom</a></li>
                                <li><a href="../../../../content/books/unix-for-macos/book/index.html">Unix for MacOS</a></li>
                                <li><a href="../../../../content/books/applescript/book/index.html">Applescript</a></li>
                                <li><a href="../../../../content/books/webpack/book/index.html">Webpack</a></li>
                                
                            </ul>-->
                        </li>
                        <li><a href="../../../../screenshots.html">Screenshots</a></li>
                        <li><a href="../../../../content/books/about/book/chapter-1.html">About</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
     <div class="row pageheader-row">
    <div class="small-12 column index text-center">
        <div class="callout small pageheader">
            <h1 id="control-structures" class="book-title title-text">
                <a href="./index.html" class="">Up and Running with Bash Scripting</a>
            </h1>
            <h6>Smerth</h6>
        </div>
    </div>
</div>


<div class="row " data-sticky-container>
    <div class="column small-12 chapter-navigation-bar sticky" data-sticky data-anchor="main" data-options="marginTop:0;" style="width: 100%;">



<div class="row chapter-navigation-row">
    <div class="column small-6 small-order-2 medium-order-1 medium-3 prev-container">
                    <h6><a class="prev" href="./chapter-2.html">&larr; Previous<div><small>Chapter 2 - Building Bash Scripts</small></div></a></h6>
            </div>

    <div class="column small-12 small-order-1 medium-order-2 medium-6 text-center title-container">
        <h6 id="control-structures" class="bk-title"><span class="fi-book-bookmark"></span> <a href="./index.html">Up and Running with Bash Scripting</a></h6>
        <h6 id="control-structures" class="ch-title align-self-middle"><small>Chapter 3 - Control Structures</small></h6>
    </div>

    <div class="column small-6 small-order-3 medium-order-3 medium-3 next-container">
                    <h6><a class="next" href="./chapter-4.html"><div class="text-right">Next &rarr;</div><div class="text-right"><small>Chapter 4 - Interacting with the User</small></div></a></h6>
            </div>

</div>
</div>
    </div> 
    <div id="book-page" class="row">
        
        
        <div id="sidebar" class="column small-12 medium-4  large-3" data-sticky-container>
            <nav id="sidebar-toc" class=" sticky" data-sticky data-anchor="main" data-options="marginTop:5;">

                
                                <h3>
                    <a href=".">Table of contents</a>
                </h3>
                <ul class="toc">
                                                                                <li class="level-1">
                        <span class="chapter-label">1.</span> <a href="./chapter-1.html"> Working with the Command Line</a>
                    </li>
                                                                                            <li class="level-1">
                        <span class="chapter-label">2.</span> <a href="./chapter-2.html"> Building Bash Scripts</a>
                    </li>
                                                                                                                <li class="level-1 active">
                                <a class="chapter" href="./chapter-3.html">
                                    <span class="chapter-label">Chapter 3.</span>
                                    Control Structures
                                </a>
                                <ul id="page-toc" class="unstyled toc-l2">
                                                                                                                        <li class="level-2" data-scroll="testing-truth-conditions-with-the-if-keyword">
                                                <span>3.1</span>
                                                <a class="internal" href="./chapter-3.html#testing-truth-conditions-with-the-if-keyword">Testing truth conditions with the if keyword</a>
                                            </li>
                                                                                    <li class="level-2" data-scroll="working-with-while-and-until-loops">
                                                <span>3.2</span>
                                                <a class="internal" href="./chapter-3.html#working-with-while-and-until-loops">Working with while and until loops</a>
                                            </li>
                                                                                    <li class="level-2" data-scroll="introducing-for-loops">
                                                <span>3.3</span>
                                                <a class="internal" href="./chapter-3.html#introducing-for-loops">Introducing for loops</a>
                                            </li>
                                                                                    <li class="level-2" data-scroll="selecting-behavior-using-case">
                                                <span>3.4</span>
                                                <a class="internal" href="./chapter-3.html#selecting-behavior-using-case">Selecting behavior using case</a>
                                            </li>
                                                                                    <li class="level-2" data-scroll="using-functions">
                                                <span>3.5</span>
                                                <a class="internal" href="./chapter-3.html#using-functions">Using functions</a>
                                            </li>
                                                                                                    </ul>
                    </li>
                                                                                            <li class="level-1">
                        <span class="chapter-label">4.</span> <a href="./chapter-4.html"> Interacting with the User</a>
                    </li>
                                            </ul>
        </nav>
    </div>

        <div id="main" class="main column small-12 medium-8 large-9 ">
        <div class="main-content">
                                                    <h2 id="testing-truth-conditions-with-the-if-keyword">3.1 Testing truth conditions with the if keyword</h2>

<p>The if statement begins with an <code>expression</code> to evaluate</p>

<div class="code bash">
<pre class="bash"><span class="kw1">if</span> expression;
<span class="kw1">if</span> <span class="br0">&#40;</span><span class="br0">&#40;</span> expression <span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="co0"># iteger comparison</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> expression <span class="br0">&#93;</span>;
<span class="kw1">if</span> <span class="br0">&#91;</span><span class="br0">&#91;</span> expression <span class="br0">&#93;</span><span class="br0">&#93;</span>;</pre>
</div>

<p>followed by then</p>

<div class="code bash">
<pre class="bash"><span class="kw1">if</span> expression; <span class="kw1">then</span></pre>
</div>

<p>on the same line, or on multiple lines</p>

<div class="code bash">
<pre class="bash"><span class="kw1">if</span> expression
<span class="kw1">then</span>
    <span class="kw3">echo</span> <span class="st0">&quot;true&quot;</span></pre>
</div>

<p>specify an else</p>

<div class="code bash">
<pre class="bash"><span class="kw1">if</span> expression
<span class="kw1">then</span>
    <span class="kw3">echo</span> <span class="st0">&quot;true&quot;</span>
<span class="kw1">else</span>
    <span class="kw3">echo</span> <span class="st0">&quot;false&quot;</span></pre>
</div>

<p>Close the if statement with <code>fi</code></p>

<div class="code bash">
<pre class="bash"><span class="kw1">if</span> expression
<span class="kw1">then</span>
    <span class="kw3">echo</span> <span class="st0">&quot;true&quot;</span>
<span class="kw1">else</span>
    <span class="kw3">echo</span> <span class="st0">&quot;false&quot;</span>
<span class="kw1">fi</span></pre>
</div>

<p>use <code>elif</code> for <code>else if</code> comparisons</p>

<div class="code bash">
<pre class="bash"><span class="kw1">if</span> expression
<span class="kw1">then</span>
    <span class="kw3">echo</span> <span class="st0">&quot;True&quot;</span>
<span class="kw1">elif</span> expression2; <span class="kw1">then</span>
    <span class="kw3">echo</span> <span class="st0">&quot;ex1 is False, ex2 is True&quot;</span>
<span class="kw1">fi</span></pre>
</div>

<p>In a script</p>

<h4 id="311sh">3.1.0.1 3.1.1.sh</h4>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
&nbsp;
<span class="re2">a</span>=<span class="nu0">5</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re1">$a</span> <span class="re5">-gt</span> <span class="nu0">4</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
    <span class="kw3">echo</span> <span class="re1">$a</span> is greater than <span class="nu0">4</span><span class="sy0">!</span>
<span class="kw1">else</span>
    <span class="kw3">echo</span> <span class="re1">$a</span> is not greater than <span class="nu0">4</span><span class="sy0">!</span>
<span class="kw1">fi</span></pre>
</div>

<p>Using a regex expression</p>

<h4 id="312sh">3.1.0.2 3.1.2.sh</h4>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
&nbsp;
<span class="re2">a</span>=<span class="st0">&quot;This is my string!&quot;</span>
<span class="co0"># The =~ indicates a regular expression</span>
<span class="co0"># [0-9]+ means one or more digits</span>
<span class="kw1">if</span> <span class="br0">&#91;</span><span class="br0">&#91;</span> <span class="re1">$a</span> =~ <span class="br0">&#91;</span><span class="nu0">0</span>-<span class="nu0">9</span><span class="br0">&#93;</span>+ <span class="br0">&#93;</span><span class="br0">&#93;</span>; <span class="kw1">then</span>
    <span class="kw3">echo</span> <span class="st0">&quot;There are numbers in the string: <span class="es2">$a</span>&quot;</span>
<span class="kw1">else</span>
    <span class="kw3">echo</span> <span class="st0">&quot;There are no numbers in the string: <span class="es2">$a</span>&quot;</span>
<span class="kw1">fi</span></pre>
</div>

<h2 id="working-with-while-and-until-loops">3.2 Working with while and until loops</h2>

<p>while</p>

<h4 id="321sh">3.2.0.1 3.2.1.sh</h4>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
<span class="re2">i</span>=<span class="nu0">0</span>
<span class="kw1">while</span> <span class="br0">&#91;</span> <span class="re1">$i</span> <span class="re5">-le</span> <span class="nu0">10</span> <span class="br0">&#93;</span>; <span class="kw1">do</span>
    <span class="kw3">echo</span> i:<span class="re1">$i</span>
    <span class="br0">&#40;</span><span class="br0">&#40;</span>i+=<span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
<span class="kw1">done</span></pre>
</div>

<h4 id="322sh">3.2.0.2 3.2.2.sh</h4>

<p>until</p>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
<span class="re2">i</span>=<span class="nu0">0</span>
<span class="kw1">until</span> <span class="br0">&#91;</span> <span class="re1">$i</span> <span class="re5">-ge</span> <span class="nu0">10</span> <span class="br0">&#93;</span>; <span class="kw1">do</span>
    <span class="kw3">echo</span> i:<span class="re1">$i</span>
    <span class="br0">&#40;</span><span class="br0">&#40;</span>i+=<span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
<span class="kw1">done</span></pre>
</div>

<h2 id="introducing-for-loops">3.3 Introducing for loops</h2>

<p>A for loop sets up a loop based on particular criteria, usually a sequence or a range of things. With it, we get a variable that contains the current value with each iteration.</p>

<h4 id="331sh">3.3.0.1 3.3.1.sh</h4>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="nu0">123</span>
<span class="kw1">do</span>
    <span class="kw3">echo</span> <span class="re1">$i</span>
<span class="kw1">done</span></pre>
</div>

<h4 id="332sh">3.3.0.2 3.3.2.sh</h4>

<p>Use brace expansion for a large range</p>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="br0">&#123;</span><span class="nu0">1</span>..<span class="nu0">100</span>..<span class="nu0">2</span><span class="br0">&#125;</span>
<span class="kw1">do</span>
    <span class="kw3">echo</span> <span class="re1">$i</span>
<span class="kw1">done</span></pre>
</div>

<p>In <code>{1..100..2}</code> the <code>..2</code> spcifies an interval within the range.  Only works in bash 4 or above...</p>

<h4 id="333sh">3.3.0.3 3.3.3.sh</h4>

<p>A more C like syntax</p>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
<span class="kw1">for</span> <span class="br0">&#40;</span><span class="br0">&#40;</span> <span class="re2">i</span>=<span class="nu0">1</span>; i<span class="sy0">&lt;</span><span class="nu0">30</span>; i++ <span class="br0">&#41;</span><span class="br0">&#41;</span>
<span class="kw1">do</span>
    <span class="kw3">echo</span> <span class="re1">$i</span>
<span class="kw1">done</span></pre>
</div>

<h4 id="334sh">3.3.0.4 3.3.4.sh</h4>

<p>Loop through an array</p>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
&nbsp;
<span class="co0"># set up an array</span>
<span class="re2">arr</span>=<span class="br0">&#40;</span><span class="st0">&quot;apple&quot;</span> <span class="st0">&quot;banana&quot;</span> <span class="st0">&quot;cherry&quot;</span><span class="br0">&#41;</span>
<span class="co0"># use array expansion ${arr[@]} to loop through the array</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="co1">${arr[@]}</span>
<span class="kw1">do</span>
    <span class="kw3">echo</span> <span class="re1">$i</span>
<span class="kw1">done</span></pre>
</div>

<h4 id="335sh">3.3.0.5 3.3.5.sh</h4>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
&nbsp;
<span class="co0"># declare -A to set up your associative array</span>
<span class="kw3">declare</span> <span class="re5">-A</span> arr
arr<span class="br0">&#91;</span><span class="st0">&quot;name&quot;</span><span class="br0">&#93;</span>=<span class="st0">&quot;Mickey&quot;</span>
arr<span class="br0">&#91;</span><span class="st0">&quot;id&quot;</span><span class="br0">&#93;</span>=<span class="st0">&quot;123&quot;</span>
<span class="co0"># you use ! to access the keys in the associative array</span>
<span class="co0"># the quotes are used in case there are spaces in the strings within the array</span>
<span class="kw1">for</span> i <span class="kw1">in</span> <span class="st0">&quot;<span class="es3">${!arr[@]}</span>&quot;</span>
<span class="kw1">do</span>
    <span class="co0"># access the value of each key (i)</span>
    <span class="kw3">echo</span> <span class="st0">&quot;<span class="es2">$i</span>: <span class="es3">${arr[$i]}</span>&quot;</span>
<span class="kw1">done</span></pre>
</div>

<p>You need bash 4 or greater to run this?</p>

<h4 id="336sh">3.3.0.6 3.3.6.sh</h4>

<p>For loop with command substitution</p>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
&nbsp;
<span class="co0"># this uses the output of ls as a series of things for the i to loop through</span>
<span class="kw1">for</span> i <span class="kw1">in</span> $<span class="br0">&#40;</span><span class="kw2">ls</span><span class="br0">&#41;</span>
<span class="kw1">do</span>
    <span class="kw3">echo</span> <span class="st0">&quot;<span class="es2">$i</span>&quot;</span>
<span class="kw1">done</span></pre>
</div>

<h2 id="selecting-behavior-using-case">3.4 Selecting behavior using case</h2>

<h4 id="341sh">3.4.0.1 3.4.1.sh</h4>

<div class="code bash">
<pre class="bash"><span class="co0">#! /bin/bash</span>
&nbsp;
<span class="re2">a</span>=<span class="st0">&quot;dog&quot;</span>
<span class="kw1">case</span> <span class="re1">$a</span> <span class="kw1">in</span>
    <span class="kw2">cat</span><span class="br0">&#41;</span> <span class="kw3">echo</span> <span class="st0">&quot;Feline&quot;</span><span class="sy0">;;</span>
    dog<span class="sy0">|</span>puppy<span class="br0">&#41;</span> <span class="kw3">echo</span> <span class="st0">&quot;Canine&quot;</span><span class="sy0">;;</span>
    <span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw3">echo</span> <span class="st0">&quot;No Match!&quot;</span><span class="sy0">;;</span>
<span class="kw1">esac</span></pre>
</div>

<h2 id="using-functions">Using functions</h2>

                    </div>
    </div>
</div>

 <footer class="columns small-12 topspace">
    <div class="row footer-top">
        <div class="medium-6 columns">
<!--             <ul class="menu">
                <li><a href="#">Legal</a></li>
                <li><a href="#">Partner</a></li>
                <li><a href="#">Explore</a></li>
            </ul> -->
        </div>
        <div class="medium-6 columns align-middle text-right">
            
                <div class="copyright">Copyright © 2016 Smedia</div>
            
        </div>
    </div>
    <div class="row footer-middle">
<!--         <div class="small-6 large-3 columns">
            <p class="lead">Offices</p>
            <ul class="menu vertical">
                <li><a href="#">One</a></li>
                <li><a href="#">Two</a></li>
                <li><a href="#">Three</a></li>
                <li><a href="#">Four</a></li>
            </ul>
        </div> -->
<!--         <div class="small-6 large-3 columns">
            <p class="lead">Solar Systems</p>
            <ul class="menu vertical">
                <li><a href="#">One</a></li>
                <li><a href="#">Two</a></li>
                <li><a href="#">Three</a></li>
                <li><a href="#">Four</a></li>
            </ul>
        </div> -->
        <div class="small-6 medium-offset-6 large-3 columns">
            <p class="lead">Contact</p>
            <ul class="menu vertical">
                <li><a href="#"><i class="fi-social-twitter"></i> Twitter</a></li>
                <li><a href="#"><i class="fi-social-facebook"></i> Facebook</a></li>
                <li><a href="#"><i class="fi-social-instagram"></i> Instagram</a></li>
                <li><a href="#"><i class="fi-social-pinterest"></i> Pinterest</a></li>
            </ul>
        </div>
<!--         <div class="small-6 large-3 columns">
            <p class="lead">Widgets</p>
            <ul class="menu vertical">
                <li><a href="#">One</a></li>
                <li><a href="#">Two</a></li>
                <li><a href="#">Three</a></li>
                <li><a href="#">Four</a></li>
            </ul>
        </div> -->
    </div>
    <div class="row footer-bottom">
        <div class="large-12 columns text-center">
            <p>Le Grande Hotel, Latin Quarter, Paris • 261 Rue Saint-Séverin, 75005 Paris, France </p>
            <p>Phone 01 42 517 85 • info@dummy.com • www.dummy.com</p>
        </div>
    </div>
</footer>


    <script src="../../../../assets/js/app.js"></script>
</body>

</html>